!function(t,e){"object"==typeof module&&module.exports?module.exports=e():t.confetti=e()}(this,function(){function t(t,e,n){return(((t+e)%n)+n)%n}function e(t){return Math.random()*t}function n(t){return Math.floor(Math.random()*t)}function r(t,e){return t["function"==typeof e?"call":"apply"](e)}function o(t,e){return function(){return t.apply(e,arguments)}}function i(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function a(t){return t}function u(t,e,n){return Math.max(Math.min(t,n),e)}function s(t,e){return t<E.maxLeft?E.maxLeft:t>e?e:t}function c(t,e,n){return{x:t,y:e,z:n}}function l(t){return{color:t.color,rotation:t.rotation,shape:t.shape,bounds:t.bounds,vel:t.vel,pos:t.pos,tick:t.tick}}function f(t){return{color:t.color,friction:t.friction,shape:t.shape,scalar:t.scalar,ticks:t.ticks,origin:t.origin,particleCount:t.particleCount,angle:t.angle,spread:t.spread,startVelocity:t.startVelocity,decay:t.decay,gravity:t.gravity,drift:t.drift,flat:t.flat}}function d(t){return{confettiCount:t.particleCount,angle:t.angle,spread:t.spread,startVelocity:t.startVelocity,decay:t.decay,gravity:t.gravity,drift:t.drift,ticks:t.ticks,origin:t.origin,colors:t.colors,shapes:t.shapes,scalar:t.scalar}}function h(t){var e=t.angle/180*Math.PI,n=t.spread/180*Math.PI,r=t.startVelocity/100;return{x:Math.sin(e)*r,y:-Math.cos(e)*r,z:0,tiltAngle:e}}function p(t){return{x:t.x,y:t.y+(t.flat?0:t.z),w:t.w,h:t.h}}function m(t,e){var n=Math.cos(t.tiltAngle)*t.w/2*t.scalar,r=Math.sin(t.tiltAngle)*t.h/2*t.scalar;return{x:e.x+n,y:e.y+r}}function y(t){return{x:0,y:t.gravity}}function v(t){t.vel.x+=t.drift,t.vel.y+=t.gravity,t.vel.x*=t.friction,t.vel.y*=t.friction,t.pos.x+=t.vel.x,t.pos.y+=t.vel.y,t.tick--}function g(t,e){if("square"===t.shape){var n=p(t,e);return n}var r=p(t,e),o=Math.min(n=r,w);return{x:r.x+o/2*Math.sin(t.rotation),y:r.y-o/4*Math.cos(t.rotation),w:o,h:o}}function b(t,e){return t.tick<e}function k(t){t.rotation+=t.angularSpeed}function x(t){t.tiltAngle+=.1*t.tiltSinAccel,t.tiltSinAccel+=.12*t.tiltAngle}function S(t){return{alpha:t.alpha-.02}}function M(t){var e=d(t);return function(){return E(e)}}function C(t,e){return function(n){return n.scalar=n.scalar||1,n.particleCount=n.particleCount||t,n.angle=n.angle||e,n.spread=n.spread||60,n.startVelocity=n.startVelocity||45,n.decay=n.decay||.9,n.gravity=n.gravity||1,n.ticks=n.ticks||200,n.drift=n.drift||0,n.origin=n.origin||{x:.5,y:.5},n}}function E(t){var d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,origin:{x:.5,y:.5},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],shapes:["square","circle"],scalar:1,flat:!1},p=i({},d),y=f(p),v=h(y),b=[];return function r(i){var a,u,s,m,E=i||{};if((a=i?i.particleCount:y.particleCount,u=i?i.angle:y.angle,s=i?i.spread:y.spread,m=i?i.startVelocity:y.startVelocity,p=i?i:i,a=a||p.particleCount,u=u||p.angle,s=s||p.spread,m=m||p.startVelocity,p=i?i:p,E.colors=E.colors||p.colors,E.shapes=E.shapes||p.shapes,E.origin=E.origin||p.origin,E.scalar=E.scalar||p.scalar,E.gravity=E.gravity||p.gravity,E.ticks=E.ticks||p.ticks,E.decay=E.decay||p.decay,E.drift=E.drift||p.drift,E.flat=E.flat||p.flat,"object"==typeof document){var g=document.createElement("canvas");g.width=2*window.innerWidth,g.height=2*window.innerHeight,g.style.position="fixed",g.style.top="0px",g.style.left="0px",g.style.width="100%",g.style.height="100%",g.style.pointerEvents="none",g.style.zIndex="999999",document.body.appendChild(g);var k=g.getContext("2d"),x=window.devicePixelRatio||1;k.scale(x,x);var S=Math.floor(E.ticks),M=E.colors,C=E.shapes,w=8,P=16;for(var L=0;L<a;L++){var O=Math.floor(Math.random()*M.length),A=M[O],I=C[n(C.length)],T=E.origin.x*window.innerWidth,T2=E.origin.y*window.innerHeight,j={x:T,y:T2,z:0},B={x:e(P)-P/2,y:e(P)-P/2,z:0},D={x:e(7)+3,y:e(7)+3,w:10,h:10},N={x:Math.sin(u/180*Math.PI)*(m/100),y:-Math.cos(u/180*Math.PI)*(m/100),z:0,tiltAngle:u/10},q={color:A,rotation:e(2*Math.PI),angularSpeed:e(.2)-.1,shape:I,pos:j,vel:{x:Math.sin(u/180*Math.PI)*(m/100),y:-Math.cos(u/180*Math.PI)*(m/100),z:0},tiltAngle:e(Math.PI),tiltSinAccel:e(.14)+.05,friction:.99,gravity:E.gravity,drift:E.drift,scalar:E.scalar,tick:S,bounds:D,flat:E.flat};b.push(q)}!function t(){k.clearRect(0,0,g.width,g.height),b.forEach(function(t){k.fillStyle=t.color;var e=g.height/n(3)+n(100);t.pos.y>e&&(t.tick=0);var r=m(t,t.pos),o=g(t,r);k.save(),k.translate(o.x,o.y),k.rotate(t.rotation),k.beginPath(),"circle"===t.shape?k.arc(0,0,o.w/2,0,2*Math.PI,!1):k.rect(-o.w/2,-o.h/2,o.w,o.h),k.fill(),k.restore(),v(t),k(t),x(t)}),b=b.filter(function(t){return t.tick>0}),b.length?requestAnimationFrame(t):(document.body.removeChild(g),g=null)}()}else console.warn("confetti not supported in this environment!")}};var w=8;return C(200,90)(M({})),E})